<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="version" content="4.0.0-dev" />
    <meta name="last-updated" content="2025-11-29" />
    <title>Getting Started - Couchbase Query Analyzer v4.0.0</title>
    <meta name="description" content="Step-by-step guide to set up the Couchbase Query Analyzer with AI-powered insights. Connect to Couchbase and configure OpenAI or xAI Grok.">
    <link rel="icon" type="image/svg+xml" href="assets/img/favicon.svg">
    <link rel="stylesheet" href="assets/css/main.css">
    <style>
        /* Page-specific styles for getting_started.html - Compact layout */
        header {
            padding: 12px 20px;
        }
        header h1 {
            font-size: 2em;
            margin-bottom: 4px;
        }
        header p {
            margin: 4px 0 0 0;
            opacity: 0.95;
        }
        
        h2 {
            margin-top: 20px;
            margin-bottom: 8px;
        }
        
        h3 {
            margin-top: 15px;
            margin-bottom: 6px;
        }
        
        section {
            margin-bottom: 15px;
        }

        /* Icon row needs margin on this page */
        .icon-row {
            margin: 6px 0;
        }

        .download-options, .connect-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 10px;
        }
        
        /* Compact tabs */
        .tab-content {
            padding: 12px 15px;
        }
        
        .steps-list {
            margin: 8px 0;
            padding-left: 20px;
        }
        
        .steps-list li {
            margin-bottom: 4px;
        }
        
        pre {
            margin: 8px 0;
            padding: 10px;
        }
        
        .sql-query-box {
            margin: 8px 0;
        }
        
        .sql-query-box pre {
            padding: 8px 10px;
        }
    </style>
</head>
<body>
    <div class="floating-github">
        <a href="https://github.com/Fujio-Turner/cb_completed_request" target="_blank" rel="noopener noreferrer">
            <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub repository">
        </a>
        <div class="copyright">¬© 2025 fuj.io</div>
    </div>

    <a href="index.html" class="back-link">‚Üê Back to Home</a>

    <header>
        <h1>Getting Started</h1>
        <p>Set up the Couchbase Query Analyzer with AI-powered analysis</p>
    </header>

    <main>
        <section>
            <h2>1. Get the Tool</h2>
            <p>You can run the tool using Docker or by downloading an executable.</p>

            <div class="tabs-container">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchTab('docker')">üê≥ Docker</button>
                    <button class="tab-btn" onclick="switchTab('macos')">üçé macOS</button>
                    <button class="tab-btn" onclick="switchTab('windows')">ü™ü Windows</button>
                </div>

                <div id="tab-docker" class="tab-content active">
                    <div class="icon-row">
                        <span class="icon-wrapper"><img src="assets/img/docker_hub_logo_round.png" alt="Docker"></span>
                        <a href="https://hub.docker.com/r/fujioturner/couchbase-query-analyzer/tags" target="_blank">Pull from Docker Hub</a>
                    </div>
<pre>docker pull fujioturner/couchbase-query-analyzer:latest
docker run -p 5000:5000 fujioturner/couchbase-query-analyzer:latest</pre>
                    <p style="margin-top:8px;color:#666;font-size:0.9em"><em>After running, open <a href="http://localhost:5000" target="_blank">http://localhost:5000</a></em></p>
                </div>

                <div id="tab-macos" class="tab-content">
                    <div class="icon-row">
                        <span class="icon-wrapper"><img src="assets/img/macOS_logo.png" alt="macOS"></span>
                        <a href="https://github.com/Fujio-Turner/cb_completed_request/releases" target="_blank">Download for macOS</a>
                    </div>
                    <ol class="steps-list">
                        <li>Download <code>cb_query_analyzer_macos</code>, make executable: <code>chmod +x</code>, then run.</li>
                        <li><em>Security warning? Go to System Settings > Privacy & Security to allow.</em></li>
                    </ol>
                    <p style="margin-top:6px;color:#666;font-size:0.9em"><em>Open <a href="http://localhost:5000" target="_blank">http://localhost:5000</a></em></p>
                </div>

                <div id="tab-windows" class="tab-content">
                    <div class="icon-row">
                        <span class="icon-wrapper"><img src="assets/img/ms_windows_logo.png" alt="Windows"></span>
                        <a href="https://github.com/Fujio-Turner/cb_completed_request/releases" target="_blank">Download for Windows</a>
                    </div>
                    <ol class="steps-list">
                        <li>Download <code>cb_query_analyzer.exe</code> and double-click to run.</li>
                        <li><em>"Windows protected your PC"? Click "More info" ‚Üí "Run anyway".</em></li>
                    </ol>
                    <p style="margin-top:6px;color:#666;font-size:0.9em"><em>Open <a href="http://localhost:5000" target="_blank">http://localhost:5000</a></em></p>
                </div>
            </div>
        </section>

        <section>
            <h2>2. Connect to Couchbase</h2>
            <p style="margin-bottom:8px">Connect to a Couchbase cluster to save analysis data and preferences.</p>

            <div class="tabs-container">
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchTab('capella')">‚òÅÔ∏è Capella</button>
                    <button class="tab-btn" onclick="switchTab('selfhosted')">üñ•Ô∏è Self-Hosted</button>
                </div>

                <div id="tab-capella" class="tab-content active">
                    <div class="icon-row">
                        <span class="icon-wrapper"><img src="assets/img/couchbase_capella_logo.png" alt="Capella"></span>
                        <a href="https://cloud.couchbase.com/sign-up" target="_blank">Free Trial</a>
                        <span style="color:#999;margin:0 6px;">or</span>
                        <a href="https://cloud.couchbase.com/sign-in" target="_blank">Sign In</a>
                    </div>
                    <ol class="steps-list">
                        <li><strong>Create Bucket:</strong> <code>cb_tools</code> (256 MB)</li>
                        <li><strong>Create Scope/Collection:</strong> <code>query.analyzer</code></li>
                        <li><strong>Create Index:</strong>
                            <div class="sql-query-box">
                                <pre>CREATE INDEX `analysis_old_table_v2` 
ON `cb_tools`.`query`.`analyzer`(
    `createdAt` DESC INCLUDE MISSING, `metadata`, `status`,
    `prompt`, `provider`, `sourceCluster`, `parseJson`.`filters`
) WHERE (`docType` = "ai_analysis")</pre>
                                <button class="sql-copy-btn">Copy</button>
                            </div>
                        </li>
                        <li><strong>Create User:</strong> <a href="https://docs.couchbase.com/cloud/clusters/manage-database-users.html" target="_blank">Database Credential</a> with Read/Write on <code>cb_tools</code></li>
                        <li><strong>Whitelist IP:</strong> <a href="https://docs.couchbase.com/cloud/get-started/connect.html#prerequisites" target="_blank">Add IP to Allowed List</a></li>
                    </ol>
                </div>

                <div id="tab-selfhosted" class="tab-content">
                    <div class="icon-row">
                        <span class="icon-wrapper"><img src="assets/img/couchbase_logo.png" alt="Couchbase"></span>
                        <span><strong>Localhost</strong> or <strong>Remote Cluster</strong></span>
                    </div>
                    <ol class="steps-list">
                        <li><strong>Create Bucket:</strong> <code>cb_tools</code> (256 MB)</li>
                        <li><strong>Create Scope/Collection:</strong> <code>query.analyzer</code></li>
                        <li><strong>Create Index:</strong>
                            <div class="sql-query-box">
                                <pre>CREATE INDEX `analysis_old_table_v2` 
ON `cb_tools`.`query`.`analyzer`(
    `createdAt` DESC INCLUDE MISSING, `metadata`, `status`,
    `prompt`, `provider`, `sourceCluster`, `parseJson`.`filters`
) WHERE (`docType` = "ai_analysis")</pre>
                                <button class="sql-copy-btn">Copy</button>
                            </div>
                        </li>
                        <li><strong>Create User:</strong> <a href="https://docs.couchbase.com/server/current/manage/manage-security/manage-users-and-roles.html#add-a-user" target="_blank">SDK User</a> with Data Reader/Writer on <code>cb_tools</code></li>
                    </ol>
                </div>
            </div>
        </section>

        <section>
            <h2>3. Configure the Tool</h2>
            <p style="margin-bottom:8px">Once running and your Couchbase user is ready:</p>
            <ol class="steps-list">
                <li>Open <a href="http://localhost:5000" target="_blank">http://localhost:5000</a></li>
                <li>Click <strong>Settings (Gear Icon)</strong> ‚Üí enter Cluster URL, Username, Password</li>
                <li>Click <strong>Test Connection</strong> ‚Üí <strong>Save Settings</strong></li>
            </ol>
        </section>

        <section>
            <h2>4. Setup AI Analysis</h2>
            <p style="margin-bottom:8px">Get an API Key from xAI Grok or OpenAI for AI-powered query analysis.</p>

            <table class="ai-table" style="font-size:0.9em">
                <thead>
                    <tr>
                        <th style="width:50%;padding:8px">
                            <img src="assets/img/x_ai_logo.png" alt="xAI" style="height:20px;vertical-align:middle;margin-right:6px">
                            Grok x.ai <em>(recommended)</em>
                        </th>
                        <th style="width:50%;padding:8px">
                            <img src="assets/img/openAid_logo.png" alt="OpenAI" style="height:20px;vertical-align:middle;margin-right:6px">
                            OpenAI
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding:8px"><a href="https://x.ai/" target="_blank">Sign Up</a> ‚Üí <a href="https://console.x.ai/" target="_blank">Get API Key</a></td>
                        <td style="padding:8px"><a href="https://platform.openai.com/signup" target="_blank">Sign Up</a> ‚Üí <a href="https://platform.openai.com/api-keys" target="_blank">Get API Key</a></td>
                    </tr>
                    <tr>
                        <td colspan="2" style="padding:8px">In Settings, select provider tab, paste API Key, click <strong>Save</strong>.</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <div class="success-box" style="padding:12px 15px;margin:15px 0">
            <h3 style="margin:0 0 6px">üéâ Ready to Go!</h3>
            <p style="margin:0">You can now perform AI-powered analysis of your slow queries.</p>
        </div>

        <section style="margin-top:15px">
            <h2>Next Steps</h2>
            <div class="steps" style="margin-top:10px">
                <div class="step" style="padding:12px">
                    <strong><a href="user_guide.html">User Guide</a></strong>
                    <p style="margin:4px 0 0;font-size:0.9em">Parse JSON, use filters, navigate analyzer tabs.</p>
                </div>
                <div class="step" style="padding:12px">
                    <strong><a href="sql_queries.html">SQL++ Query Examples</a></strong>
                    <p style="margin:4px 0 0;font-size:0.9em">Filter by node, date range, exclude system queries.</p>
                </div>
                <div class="step" style="padding:12px">
                    <strong><a href="analysis_hub.html">Analysis Hub</a></strong>
                    <p style="margin:4px 0 0;font-size:0.9em">Metrics, optimization strategies, glossary.</p>
                </div>
            </div>
        </section>

        <div class="note-box" style="margin-top:15px;padding:10px 12px;font-size:0.9em">
            <strong>Versions:</strong>
            <b>v3.x</b> runs as static HTML at <a href="https://cb.fuj.io/en/" target="_blank">cb.fuj.io/en</a>.
            <b>v4.x+</b> requires Couchbase bucket + AI API access (this guide).
        </div>
    </main>

    <div class="version-info">Couchbase Query Analyzer v4.0.0-dev</div>

    <script src="assets/js/main.js"></script>

    <footer>
        <p>&copy; 2025 <a href="https://fuj.io" target="_blank" rel="noopener noreferrer">fuj.io</a>.</p>
    </footer>
</body>
</html>
